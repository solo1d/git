## 团队协作中央共享仓库配置初始化流程

> 前提：服务器需要支持和开启 ssh 服务
>
> 如果想要让所有用户不能登录到shell到服务器，直接新建用户，让这个用户的shell分配为空即可。
>
> 

#### 初始化服务器裸Git仓库

```bash
# 此处操作为远程服务器
# 登录用户为  gituser , ssh端口是22 , 开启ssh密钥登录, 服务器IP是 1.0.0.1

# 在用户的目录下创建裸库 (目前所在位置是 /home/gituser ) ,也可以配置为其他的地方(只需要修改用户的默认目录就行)
gituser@1.0.0.1 $ git init --bare  devCode.git

	# 新建目录是 devCode.git ，内部只有正常的 .git内的核心文件

# 配置主线名为 main   (这里加上了--global 是全局参数，可以变更为局部的)
gituser@1.0.0.1 $ git config --global init.defaultBranch main

```

#### 开发支线拉取和推送操作

```bash
# 客户端的登录用户是 user1
# 拉取服务器的main主线版本
user1 $ git clone gituser@1.0.0.1:devCode.git

	# 就会有一个 devCode 目录
	
# 编辑和修改后执行如下操作 推送即可(假设新建了一个a.cpp的文件并推送)
user1 $ git add a.cpp
user1 $ git commit -m 'add a.cpp'

user1 $ git push origin main   # 推送到服务器的main主线版本
```

